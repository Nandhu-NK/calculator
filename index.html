<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Material Estimator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url('background.jpg') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      color: #333;
    }

    .container {
      background: rgba(255, 255, 255, 0.95);
      margin: 20px auto;
      padding: 20px;
      border-radius: 12px;
      max-width: 1200px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    h1 {
      text-align: center;
      color: #222;
      margin-bottom: 10px;
    }

    .customer-details {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 20px;
    }

    .customer-details input {
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      width: 100%;
    }

    .selector-box {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
    }

    .selector-card {
      background: #f0f0f0;
      padding: 15px 25px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .selector-card:hover, .selector-card.active {
      background: #4CAF50;
      color: #fff;
      transform: scale(1.05);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th, td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: center;
    }

    th {
      background: #4CAF50;
      color: white;
    }

    .btn {
      padding: 10px 20px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }

    .btn:hover {
      background: #45a049;
    }

    .total-box {
      text-align: right;
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Material Estimator</h1>

    <!-- Customer Details -->
    <div class="customer-details">
      <input type="text" placeholder="Customer Name">
      <input type="text" placeholder="Mobile Number">
      <input type="text" placeholder="Location">
      <input type="text" placeholder="Electrician Name">
      <input type="date">
    </div>

    <!-- Project Selector -->
    <div class="selector-box">
      <div class="selector-card active" onclick="selectProject('house')">House Wiring</div>
      <div class="selector-card" onclick="selectProject('industrial')">Industrial Wiring</div>
      <div class="selector-card" onclick="selectProject('solar')">Solar Panel Design</div>
    </div>

    <!-- Materials Table -->
    <table id="materialsTable">
      <thead>
        <tr>
          <th>Material</th>
          <th>Rating</th>
          <th>Quantity</th>
          <th>Rate (Optional)</th>
          <th>Total</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="tableBody">
      </tbody>
    </table>

    <div class="total-box">Grand Total: ₹<span id="grandTotal">0</span></div>

    <button class="btn" onclick="downloadPDF()">Download as PDF</button>
  </div>

  <script>
    const materials = {
      house: [
        {name: "1.5 sqmm Wire", ratings: ["90m", "180m", "coil"]},
        {name: "2.5 sqmm Wire", ratings: ["90m", "180m", "coil"]},
        {name: "Ceiling Fan", ratings: ["900mm", "1200mm", "1400mm"]},
        {name: "LED Bulb", ratings: ["5W", "9W", "12W", "15W"]},
        {name: "MCB", ratings: ["6A", "10A", "16A", "32A"]},
        {name: "Switch", ratings: ["6A", "16A"]},
        {name: "Socket", ratings: ["6A", "16A"]},
        {name: "Tube Light", ratings: ["18W", "22W"]},
        {name: "Distribution Board", ratings: ["4 Way", "6 Way", "8 Way"]},
        {name: "Main Switch", ratings: ["32A", "63A"]},
        {name: "Earth Wire", ratings: ["1.5 sqmm", "2.5 sqmm"]},
        {name: "PVC Pipe", ratings: ["20mm", "25mm", "32mm"]},
        {name: "Three Pin Plug", ratings: ["6A", "16A"]},
        {name: "Chandelier", ratings: ["3 Light", "5 Light", "7 Light"]},
        {name: "AC Stabilizer", ratings: ["3KVA", "5KVA"]},
        // Add more…
      ],
      industrial: [
        {name: "Armoured Cable", ratings: ["10 sqmm", "25 sqmm", "50 sqmm"]},
        {name: "Motor Starter", ratings: ["10A", "25A", "40A", "63A"]},
        {name: "Induction Motor", ratings: ["1HP", "5HP", "10HP", "20HP"]},
        {name: "Industrial Fan", ratings: ["300mm", "600mm", "900mm"]},
        {name: "Industrial Switchgear", ratings: ["32A", "63A", "125A"]},
        {name: "Control Panel", ratings: ["4 Way", "8 Way", "12 Way"]},
        {name: "MCB", ratings: ["32A", "63A", "100A"]},
        {name: "MCCB", ratings: ["100A", "250A", "400A"]},
        {name: "Capacitor Bank", ratings: ["10kVAR", "25kVAR", "50kVAR"]},
        {name: "Busbar", ratings: ["100A", "250A", "400A"]},
        {name: "Relay", ratings: ["10A", "20A"]},
        {name: "Contactor", ratings: ["9A", "25A", "40A"]},
        {name: "Transformer", ratings: ["25kVA", "63kVA", "100kVA"]},
        // Add more…
      ],
      solar: [
        {name: "Solar Panel", ratings: ["100W", "250W", "350W", "500W"]},
        {name: "Inverter", ratings: ["1kW", "3kW", "5kW"]},
        {name: "Battery", ratings: ["100Ah", "150Ah", "200Ah"]},
        {name: "Charge Controller", ratings: ["12V", "24V", "48V"]},
        {name: "DC Cable", ratings: ["2.5 sqmm", "4 sqmm", "6 sqmm"]},
        {name: "Earthing Kit", ratings: ["Standard", "Heavy Duty"]},
        {name: "ACDB", ratings: ["1kW", "5kW"]},
        {name: "DCDB", ratings: ["1kW", "5kW"]},
        {name: "Module Mounting Structure", ratings: ["1kW", "5kW", "10kW"]},
        {name: "Lightning Arrester", ratings: ["Standard", "Heavy Duty"]},
        {name: "Junction Box", ratings: ["2 in 2 out", "4 in 4 out"]},
        {name: "Solar Cable", ratings: ["2.5 sqmm", "4 sqmm", "6 sqmm"]},
        {name: "Fuse", ratings: ["6A", "10A", "20A"]},
        // Add more…
      ]
    };

    function loadMaterials(type) {
      const tbody = document.getElementById("tableBody");
      tbody.innerHTML = "";
      materials[type].forEach(item => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${item.name}</td>
          <td>
            <select>
              ${item.ratings.map(r => `<option value="${r}">${r}</option>`).join("")}
            </select>
          </td>
          <td><input type="number" value="1" min="1" onchange="calculateTotal()"></td>
          <td><input type="number" placeholder="Rate" onchange="calculateTotal()"></td>
          <td class="total">0</td>
          <td><button onclick="removeRow(this)">❌</button></td>
        `;
        tbody.appendChild(row);
      });
    }

    function calculateTotal() {
      let grandTotal = 0;
      document.querySelectorAll("#tableBody tr").forEach(row => {
        const qty = row.querySelector("td:nth-child(3) input").value || 0;
        const rate = row.querySelector("td:nth-child(4) input").value || 0;
        const total = qty * rate;
        row.querySelector(".total").innerText = total;
        grandTotal += total;
      });
      document.getElementById("grandTotal").innerText = grandTotal;
    }

    function removeRow(btn) {
      btn.closest("tr").remove();
      calculateTotal();
    }

    function selectProject(type) {
      document.querySelectorAll('.selector-card').forEach(el => el.classList.remove('active'));
      event.target.classList.add('active');
      loadMaterials(type);
      calculateTotal();
    }

    function downloadPDF() {
      window.print();
    }

    // Load default
    loadMaterials('house');
  </script>
</body>
</html>
