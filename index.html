<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Material Estimator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f7f9fc;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
    }
    .details, .estimator {
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    label {
      display: inline-block;
      width: 150px;
      margin-bottom: 10px;
      font-weight: bold;
    }
    input, select {
      padding: 5px;
      width: 200px;
      margin-bottom: 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    th {
      background: #2c3e50;
      color: #fff;
    }
    .btn {
      background: #2c3e50;
      color: white;
      padding: 8px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }
    .btn:hover {
      background: #1a252f;
    }
    .grand-total {
      text-align: right;
      font-size: 18px;
      font-weight: bold;
      margin-top: 15px;
    }
  </style>
</head>
<body>

  <h1>Material Estimator</h1>

  <!-- Customer Details -->
  <div class="details">
    <label>Customer Name:</label><input type="text"><br>
    <label>Mobile No:</label><input type="text"><br>
    <label>Location:</label><input type="text"><br>
    <label>Electrician Name:</label><input type="text"><br>
    <label>Date:</label><input type="date"><br>
  </div>

  <!-- Estimator Section -->
  <div class="estimator">
    <table id="materialTable">
      <thead>
        <tr>
          <th>Material</th>
          <th>Rating</th>
          <th>Unit</th>
          <th>Quantity</th>
          <th>Rate</th>
          <th>Total</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button class="btn" onclick="addRow()">+ Add Material</button>
    <div class="grand-total" id="grandTotal">Grand Total: ₹0</div>
    <button class="btn" onclick="window.print()">Print / Save PDF</button>
  </div>

  <script>
    const materials = [
      "Ceiling Fan", "Exhaust Fan", "LED Bulb", "Tube Light", "Switch 6A", 
      "Socket 6A", "MCB 6A", "MCB 16A", "Distribution Box", "1.5 sqmm Wire", 
      "2.5 sqmm Wire", "4 sqmm Wire", "PVC Pipe", "3-Pin Plug", "Main Switch", 
      "Earth Wire", "Junction Box", "Panel Board", "Solar Inverter", "Batteries"
    ];

    const ratings = ["-", "6A", "10A", "16A", "32A", "63A", "1.5 sqmm", "2.5 sqmm", "4 sqmm", "230V", "415V"];
    const units = ["Nos", "Meter", "Roll", "Box", "Set"];

    function addRow() {
      const table = document.getElementById("materialTable").getElementsByTagName('tbody')[0];
      const row = table.insertRow();

      // Material
      let materialCell = row.insertCell(0);
      let materialSelect = document.createElement("select");
      materials.forEach(m => {
        let option = document.createElement("option");
        option.text = m;
        materialSelect.add(option);
      });
      materialCell.appendChild(materialSelect);

      // Rating
      let ratingCell = row.insertCell(1);
      let ratingSelect = document.createElement("select");
      ratings.forEach(r => {
        let option = document.createElement("option");
        option.text = r;
        ratingSelect.add(option);
      });
      ratingCell.appendChild(ratingSelect);

      // Unit
      let unitCell = row.insertCell(2);
      let unitSelect = document.createElement("select");
      units.forEach(u => {
        let option = document.createElement("option");
        option.text = u;
        unitSelect.add(option);
      });
      unitCell.appendChild(unitSelect);

      // Quantity
      let qtyCell = row.insertCell(3);
      let qtyInput = document.createElement("input");
      qtyInput.type = "number";
      qtyInput.value = 1;
      qtyInput.oninput = () => updateRow(row);
      qtyCell.appendChild(qtyInput);

      // Rate
      let rateCell = row.insertCell(4);
      let rateInput = document.createElement("input");
      rateInput.type = "number";
      rateInput.value = 0;
      rateInput.oninput = () => updateRow(row);
      rateCell.appendChild(rateInput);

      // Total
      let totalCell = row.insertCell(5);
      totalCell.textContent = "0";

      // Action
      let actionCell = row.insertCell(6);
      let delBtn = document.createElement("button");
      delBtn.textContent = "❌";
      delBtn.className = "btn";
      delBtn.onclick = () => { row.remove(); updateGrandTotal(); };
      actionCell.appendChild(delBtn);
    }

    function updateRow(row) {
      let qty = row.cells[3].querySelector("input").value || 0;
      let rate = row.cells[4].querySelector("input").value || 0;
      let total = qty * rate;
      row.cells[5].textContent = "₹" + total;
      updateGrandTotal();
    }

    function updateGrandTotal() {
      const table = document.getElementById("materialTable").getElementsByTagName('tbody')[0];
      let grandTotal = 0;
      for (let row of table.rows) {
        let total = row.cells[5].textContent.replace("₹", "") || 0;
        grandTotal += parseFloat(total);
      }
      document.getElementById("grandTotal").textContent = "Grand Total: ₹" + grandTotal;
    }
  </script>
</body>
</html>
