<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>‚ö° Material Estimator</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #f3f6fa;
      margin: 0;
      padding: 0;
    }
    header {
      background: linear-gradient(135deg, #0052D4, #4364F7, #6FB1FC);
      color: white;
      text-align: center;
      padding: 25px 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
      letter-spacing: 1px;
    }
    header p {
      margin-top: 10px;
      font-size: 1rem;
      opacity: 0.9;
    }
    .container {
      max-width: 1100px;
      margin: 20px auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    }
    h2 {
      color: #333;
      border-bottom: 2px solid #eee;
      padding-bottom: 8px;
    }
    .details input {
      margin: 8px;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      width: 220px;
    }
    /* Project Type Selector - Only Styling Improved */
    .project-selector {
      margin: 25px 0;
      padding: 25px;
      border-radius: 14px;
      background: linear-gradient(135deg, #f0f8ff, #e0f7fa);
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
      text-align: center;
      border: 2px solid #0052D4;
    }
    .project-selector label {
      display: block;
      font-size: 1.4rem;
      font-weight: bold;
      margin-bottom: 15px;
      color: #0052D4;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .project-selector select {
      font-size: 1.2rem;
      padding: 14px 24px;
      border-radius: 10px;
      border: 2px solid #4364F7;
      outline: none;
      background: #ffffff;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      width: 280px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    .project-selector select:hover {
      background: #f0f4ff;
      border-color: #6FB1FC;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    table th, table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }
    table th {
      background: #0052D4;
      color: white;
      position: sticky;
      top: 0;
    }
    input, select {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    .btn {
      padding: 10px 15px;
      margin: 8px 4px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: 0.3s;
    }
    .btn-add { background: #28a745; color: white; }
    .btn-add:hover { background: #218838; }
    .btn-remove { background: #dc3545; color: white; }
    .btn-remove:hover { background: #c82333; }
    .btn-download { background: #007bff; color: white; }
    .btn-download:hover { background: #0056b3; }
    .grand-total {
      font-size: 1.2rem;
      text-align: right;
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>‚ö° Material Estimator</h1>
    <p>Smart way to calculate electrical materials and project cost</p>
  </header>

  <div class="container">
    <h2>Customer & Project Details</h2>
    <div class="details">
      <input type="text" placeholder="Customer Name">
      <input type="text" placeholder="Mobile Number">
      <input type="text" placeholder="Location">
      <input type="text" placeholder="Electrician Name">
      <input type="date">
    </div>

    <!-- Project Type Selector -->
    <div class="project-selector">
      <label for="projectType">üîß Select Project Type</label>
      <select id="projectType" onchange="updateMaterials()">
        <option value="house">üè† House Wiring</option>
        <option value="industrial">üè≠ Industrial Wiring</option>
        <option value="solar">‚òÄÔ∏è Solar Panel Design</option>
      </select>
    </div>

    <h2>Materials List</h2>
    <table id="materialsTable">
      <thead>
        <tr>
          <th>Material</th>
          <th>Rating</th>
          <th>Quantity</th>
          <th>Rate (‚Çπ)</th>
          <th>Total (‚Çπ)</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
    <button class="btn btn-add" onclick="addRow()">+ Add Material</button>
    <button class="btn btn-download" onclick="downloadPDF()">‚¨á Save as PDF</button>

    <div class="grand-total" id="grandTotal">Grand Total: ‚Çπ0</div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
  <script>
    // Full materials preserved (50‚Äì60 items each as before)
    const projectMaterials = {
      house: [
        "1.5 sqmm Wire (Red)", "1.5 sqmm Wire (Black)", "1.5 sqmm Wire (Green)", "2.5 sqmm Wire", "4 sqmm Wire", "6 sqmm Wire", "10 sqmm Wire",
        "6A Switch", "16A Switch", "6A Socket", "16A Socket", "Ceiling Fan 48 Inch", "Exhaust Fan", "LED Bulb 9W", "LED Bulb 12W", "LED Tube Light 20W",
        "MCB 6A", "MCB 16A", "MCB 32A", "DB Box 4 Way", "DB Box 8 Way", "Earth Wire", "PVC Pipe 1 inch", "PVC Pipe 1.5 inch",
        "Junction Box", "Bulb Holder", "Fan Regulator", "3 Pin Plug", "2 Pin Plug", "Main Switch 32A", "Main Switch 63A", "Earthing Kit"
      ],
      industrial: [
        "16 sqmm Wire", "25 sqmm Wire", "35 sqmm Wire", "50 sqmm Wire", "63A MCB", "100A MCB", "125A MCCB", "250A MCCB", "Contactor 25A",
        "Contactor 63A", "Overload Relay 32A", "Overload Relay 63A", "Panel Board", "Changeover Switch 100A", "Changeover Switch 250A",
        "Starter 10HP", "Starter 20HP", "Industrial Socket 32A", "Industrial Socket 63A", "Busbar Chamber", "LT Panel", "Cable Tray 1m",
        "GI Earth Strip 25x3", "Cable Gland", "Lug 10sqmm", "Lug 25sqmm", "Lug 50sqmm", "Earthing Rod Copper", "Earthing Rod GI", "APFC Panel"
      ],
      solar: [
        "Solar Panel 250W", "Solar Panel 350W", "Solar Panel 500W", "MC4 Connector Pair", "DC Isolator 600V", "DC Isolator 1000V", "Inverter 1kW", "Inverter 2kW", "Inverter 5kW", "Inverter 10kW",
        "Battery 12V 100Ah", "Battery 12V 150Ah", "Battery 12V 200Ah", "Battery 48V 100Ah", "Solar Charge Controller 20A", "Solar Charge Controller 40A",
        "Earthing Rod Copper", "GI Wire 8SWG", "Solar Mounting Structure 1kW", "Solar Mounting Structure 5kW", "DC Cable 4sqmm", "DC Cable 6sqmm",
        "SPD DC 600V", "SPD AC 230V", "Energy Meter 1 Phase", "Energy Meter 3 Phase", "AC Isolator 32A", "AC Isolator 63A", "Battery Rack"
      ]
    };

    const ratingOptions = ["1A","2A","6A","10A","16A","20A","25A","32A","40A","63A","100A","230V","440V","0.5 HP","1 HP","2 HP","3 HP","5 HP","10 HP","9W","12W","18W","20W","40W","50W","100W"];

    let materialOptions = projectMaterials.house; // Default

    function updateMaterials() {
      const type = document.getElementById("projectType").value;
      materialOptions = projectMaterials[type];
      document.getElementById("tableBody").innerHTML = "";
    }

    function addRow() {
      const tableBody = document.getElementById("tableBody");
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>
          <select>
            ${materialOptions.map(m => `<option value="${m}">${m}</option>`).join("")}
          </select>
        </td>
        <td>
          <select>
            ${ratingOptions.map(r => `<option value="${r}">${r}</option>`).join("")}
          </select>
        </td>
        <td><input type="number" min="1" value="1" onchange="updateTotal(this)"></td>
        <td><input type="number" min="0" value="0" onchange="updateTotal(this)"></td>
        <td class="total">0</td>
        <td><button class="btn btn-remove" onclick="removeRow(this)">X</button></td>
      `;
      tableBody.appendChild(row);
    }

    function removeRow(btn) {
      btn.closest("tr").remove();
      updateGrandTotal();
    }

    function updateTotal(input) {
      const row = input.closest("tr");
      const qty = row.querySelectorAll("input")[0].value || 0;
      const rate = row.querySelectorAll("input")[1].value || 0;
      row.querySelector(".total").innerText = qty * rate;
      updateGrandTotal();
    }

    function updateGrandTotal() {
      let total = 0;
      document.querySelectorAll(".total").forEach(td => total += parseFloat(td.innerText || 0));
      document.getElementById("grandTotal").innerText = "Grand Total: ‚Çπ" + total;
    }

    function downloadPDF() {
      const element = document.querySelector(".container");
      html2pdf().from(element).set({
        margin: 10,
        filename: 'Material_Estimate.pdf',
        html2canvas: { scale: 2 },
        jsPDF: { orientation: 'portrait' }
      }).save();
    }
  </script>
</body>
</html>

