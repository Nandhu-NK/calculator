<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>⚡ Material Estimator</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #f3f6fa;
      margin: 0;
      padding: 0;
    }
    header {
      background: linear-gradient(135deg, #0052D4, #4364F7, #6FB1FC);
      color: white;
      text-align: center;
      padding: 25px 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
      letter-spacing: 1px;
    }
    header p {
      margin-top: 10px;
      font-size: 1rem;
      opacity: 0.9;
    }
    .container {
      max-width: 1100px;
      margin: 20px auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    }
    h2 {
      color: #333;
      border-bottom: 2px solid #eee;
      padding-bottom: 8px;
    }
    .details input {
      margin: 8px;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      width: 220px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    table th, table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }
    table th {
      background: #0052D4;
      color: white;
      position: sticky;
      top: 0;
    }
    input, select {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    .btn {
      padding: 10px 15px;
      margin: 8px 4px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: 0.3s;
    }
    .btn-add { background: #28a745; color: white; }
    .btn-add:hover { background: #218838; }
    .btn-remove { background: #dc3545; color: white; }
    .btn-remove:hover { background: #c82333; }
    .btn-download { background: #007bff; color: white; }
    .btn-download:hover { background: #0056b3; }
    .grand-total {
      font-size: 1.2rem;
      text-align: right;
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>⚡ Material Estimator</h1>
    <p>Smart way to calculate electrical materials and project cost</p>
  </header>

  <div class="container">
    <h2>Customer & Project Details</h2>
    <div class="details">
      <input type="text" placeholder="Customer Name">
      <input type="text" placeholder="Mobile Number">
      <input type="text" placeholder="Location">
      <input type="text" placeholder="Electrician Name">
      <input type="date">
    </div>

    <h2>Materials List</h2>
    <table id="materialsTable">
      <thead>
        <tr>
          <th>Material</th>
          <th>Rating</th>
          <th>Quantity</th>
          <th>Rate (₹)</th>
          <th>Total (₹)</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="tableBody">
      </tbody>
    </table>
    <button class="btn btn-add" onclick="addRow()">+ Add Material</button>
    <button class="btn btn-download" onclick="downloadPDF()">⬇ Save as PDF</button>

    <div class="grand-total" id="grandTotal">Grand Total: ₹0</div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
  <script>
    const materialOptions = [
      "1.5 sqmm Wire (Red)", "1.5 sqmm Wire (Black)", "1.5 sqmm Wire (Green)",
      "2.5 sqmm Wire", "4 sqmm Wire", "6 sqmm Wire", "10 sqmm Wire",
      "16 sqmm Wire", "25 sqmm Wire", "32A MCB", "63A MCB", "100A MCB",
      "Single Pole MCB", "Double Pole MCB", "Four Pole MCB",
      "Distribution Box 4 Way", "Distribution Box 8 Way",
      "Main Switch 32A", "Main Switch 63A", "Main Switch 100A",
      "Socket 6A", "Socket 16A", "Switch 6A", "Switch 16A",
      "Regulator", "Fan 48 Inch", "Fan 56 Inch", "LED Bulb 9W", "LED Bulb 12W",
      "Tube Light 20W", "Tube Light 40W", "CFL Lamp 18W", "Flood Light 50W",
      "Flood Light 100W", "Ceiling Rose", "PVC Pipe 20mm", "PVC Pipe 25mm",
      "PVC Elbow", "PVC Junction Box", "PVC Saddle",
      "GI Wire 8SWG", "Earthing Plate", "Earthing Rod", "MCB Enclosure",
      "DB Box Double Door", "Changeover Switch 32A", "Changeover Switch 63A",
      "Changeover Switch 100A", "Starter 1HP", "Starter 2HP", "Starter 5HP",
      "Starter 10HP", "Capacitor 2.5 MFD", "Capacitor 4 MFD", "Capacitor 6 MFD",
      "Capacitor 10 MFD", "Capacitor 25 MFD", "Conduit Clamp",
      "Service Wire 2 Core", "Service Wire 4 Core", "3 Pin Plug 6A",
      "3 Pin Plug 16A", "DP Switch 20A", "Isolator 40A", "Isolator 63A",
      "Timer Switch", "Energy Meter Single Phase", "Energy Meter Three Phase",
      "Busbar", "Panel Board", "Contactor 9A", "Contactor 12A", "Contactor 25A",
      "Relay 12V", "Relay 24V", "Relay 230V", "Bell", "Buzzer"
    ];

    const ratingOptions = [
      "1A", "2A", "6A", "10A", "16A", "20A", "25A", "32A", "40A", "63A", "100A",
      "230V", "440V", "0.5 HP", "1 HP", "2 HP", "3 HP", "5 HP", "10 HP",
      "9W", "12W", "18W", "20W", "40W", "50W", "100W"
    ];

    function addRow() {
      const tableBody = document.getElementById("tableBody");
      const row = document.createElement("tr");

      row.innerHTML = `
        <td>
          <select>
            ${materialOptions.map(m => `<option value="${m}">${m}</option>`).join("")}
          </select>
        </td>
        <td>
          <select>
            ${ratingOptions.map(r => `<option value="${r}">${r}</option>`).join("")}
          </select>
        </td>
        <td><input type="number" min="1" value="1" onchange="updateTotal(this)"></td>
        <td><input type="number" min="0" value="0" onchange="updateTotal(this)"></td>
        <td class="total">0</td>
        <td><button class="btn btn-remove" onclick="removeRow(this)">X</button></td>
      `;
      tableBody.appendChild(row);
    }

    function removeRow(btn) {
      btn.closest("tr").remove();
      updateGrandTotal();
    }

    function updateTotal(input) {
      const row = input.closest("tr");
      const qty = row.querySelectorAll("input")[0].value || 0;
      const rate = row.querySelectorAll("input")[1].value || 0;
      const total = qty * rate;
      row.querySelector(".total").innerText = total;
      updateGrandTotal();
    }

    function updateGrandTotal() {
      let total = 0;
      document.querySelectorAll(".total").forEach(td => total += parseFloat(td.innerText || 0));
      document.getElementById("grandTotal").innerText = "Grand Total: ₹" + total;
    }

    function downloadPDF() {
      const element = document.querySelector(".container");
      html2pdf().from(element).set({
        margin: 10,
        filename: 'Material_Estimate.pdf',
        html2canvas: { scale: 2 },
        jsPDF: { orientation: 'portrait' }
      }).save();
    }
  </script>
</body>
</html>

